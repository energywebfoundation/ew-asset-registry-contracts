{"abi":[{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_smartMeter","type":"address"}],"name":"setSmartMeter","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_lastSmartMeterReadWh","type":"uint256"}],"name":"setLastSmartMeterReadWh","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_lastSmartMeterReadFileHash","type":"string"}],"name":"setLastSmartMeterReadFileHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_owner","type":"address"}],"name":"setOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_propDocumentHash","type":"string"}],"name":"setPropertiesDocumentHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_newOwner","type":"address"}],"name":"changeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getAssetListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_url","type":"string"}],"name":"setUrl","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_certificatesUsedForWh","type":"uint256"}],"name":"setCertificatesUsedForWh","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_smartMeter","type":"address"},{"name":"_owner","type":"address"},{"name":"_active","type":"bool"},{"name":"_matcher","type":"address"},{"name":"_propertiesDocumentHash","type":"string"},{"name":"_url","type":"string"}],"name":"createAsset","outputs":[{"name":"_assetId","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint256"},{"name":"_active","type":"bool"}],"name":"setActive","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint256"}],"name":"getAsset","outputs":[{"components":[{"name":"certificatesUsedForWh","type":"uint256"},{"name":"smartMeter","type":"address"},{"name":"owner","type":"address"},{"name":"lastSmartMeterReadWh","type":"uint256"},{"name":"active","type":"bool"},{"name":"lastSmartMeterReadFileHash","type":"string"},{"name":"matcher","type":"address[]"},{"name":"propertiesDocumentHash","type":"string"},{"name":"url","type":"string"}],"name":"","type":"tuple"}],"payable":false,"stateMutability":"view","type":"function"},{"inputs":[{"name":"_owner","type":"address"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_newOwner","type":"address"}],"name":"LogChangeOwner","type":"event"}],"bytecode":"60806040523480156200001157600080fd5b5060405160208062001d33833981018060405262000033919081019062000092565b80806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050620000de565b60006200008a8251620000be565b905092915050565b600060208284031215620000a557600080fd5b6000620000b5848285016200007c565b91505092915050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b611c4580620000ee6000396000f3006080604052600436106100c5576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630ff85b94146100ca57806357c3bc60146100f35780637c7959dc1461011c5780637fd392471461014557806389094ee61461016e5780638da5cb5b14610197578063a6f9dae1146101c2578063ae51439c146101eb578063aef9509814610216578063c27913061461023f578063e28cb19214610268578063e60a955d146102a5578063eac8f5b8146102ce575b600080fd5b3480156100d657600080fd5b506100f160048036036100ec9190810190611781565b61030b565b005b3480156100ff57600080fd5b5061011a60048036036101159190810190611851565b6103ff565b005b34801561012857600080fd5b50610143600480360361013e91908101906117f9565b6104b9565b005b34801561015157600080fd5b5061016c60048036036101679190810190611781565b61057f565b005b34801561017a57600080fd5b50610195600480360361019091908101906117f9565b610673565b005b3480156101a357600080fd5b506101ac610739565b6040516101b99190611a93565b60405180910390f35b3480156101ce57600080fd5b506101e960048036036101e4919081019061166c565b61075e565b005b3480156101f757600080fd5b506102006108db565b60405161020d9190611b10565b60405180910390f35b34801561022257600080fd5b5061023d600480360361023891908101906117f9565b610979565b005b34801561024b57600080fd5b5061026660048036036102619190810190611851565b610a3f565b005b34801561027457600080fd5b5061028f600480360361028a9190810190611695565b610af9565b60405161029c9190611b10565b60405180910390f35b3480156102b157600080fd5b506102cc60048036036102c791908101906117bd565b610e91565b005b3480156102da57600080fd5b506102f560048036036102f09190810190611758565b610f5e565b6040516103029190611aee565b60405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561039c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039390611ace565b60405180910390fd5b806001838154811015156103ac57fe5b906000526020600020906009020160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610490576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048790611ace565b60405180910390fd5b806001838154811015156104a057fe5b9060005260206000209060090201600301819055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561054a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054190611ace565b60405180910390fd5b818160018581548110151561055b57fe5b90600052602060002090600902016005019190610579929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610610576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161060790611ace565b60405180910390fd5b8060018381548110151561062057fe5b906000526020600020906009020160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610704576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fb90611ace565b60405180910390fd5b818160018581548110151561071557fe5b90600052602060002090600902016007019190610733929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156107ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e690611ace565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610861576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161085890611aae565b60405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16816040516108d09190611a93565b60405180910390a150565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561096e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161096590611ace565b60405180910390fd5b600180549050905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610a0a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a0190611ace565b60405180910390fd5b8181600185815481101515610a1b57fe5b90600052602060002090600902016008019190610a39929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ad0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ac790611ace565b60405180910390fd5b80600183815481101515610ae057fe5b9060005260206000209060090201600001819055505050565b60006060610b056113f7565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610b96576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b8d90611ace565b60405180910390fd5b6001604051908082528060200260200182016040528015610bc65781602001602082028038833980820191505090505b50915087826000815181101515610bd957fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505061012060405190810160405280600081526020018c73ffffffffffffffffffffffffffffffffffffffff1681526020018b73ffffffffffffffffffffffffffffffffffffffff168152602001600081526020018a151581526020016020604051908101604052806000815250815260200183815260200188888080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050508152509050600181908060018154018082558091505090600182039060005260206000209060090201600090919290919091506000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005019080519060200190610e08929190611472565b5060c0820151816006019080519060200190610e259291906114f2565b5060e0820151816007019080519060200190610e42929190611472565b50610100820151816008019080519060200190610e60929190611472565b50505050600060018054905011610e78576000610e81565b60018080549050035b9250505098975050505050505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610f22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1990611ace565b60405180910390fd5b80600183815481101515610f3257fe5b906000526020600020906009020160040160006101000a81548160ff0219169083151502179055505050565b610f666113f7565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ff7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fee90611ace565b60405180910390fd5b60018281548110151561100657fe5b90600052602060002090600902016101206040519081016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff16151515158152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111955780601f1061116a57610100808354040283529160200191611195565b820191906000526020600020905b81548152906001019060200180831161117857829003601f168201915b505050505081526020016006820180548060200260200160405190810160405280929190818152602001828054801561122357602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116111d9575b50505050508152602001600782018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112c55780601f1061129a576101008083540402835291602001916112c5565b820191906000526020600020905b8154815290600101906020018083116112a857829003601f168201915b50505050508152602001600882018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113675780601f1061133c57610100808354040283529160200191611367565b820191906000526020600020905b81548152906001019060200180831161134a57829003601f168201915b5050505050815250509050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106113b857803560ff19168380011785556113e6565b828001600101855582156113e6579182015b828111156113e55782358255916020019190600101906113ca565b5b5090506113f3919061157c565b5090565b6101206040519081016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600015158152602001606081526020016060815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106114b357805160ff19168380011785556114e1565b828001600101855582156114e1579182015b828111156114e05782518255916020019190600101906114c5565b5b5090506114ee919061157c565b5090565b82805482825590600052602060002090810192821561156b579160200282015b8281111561156a5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190611512565b5b50905061157891906115a1565b5090565b61159e91905b8082111561159a576000816000905550600101611582565b5090565b90565b6115e191905b808211156115dd57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016115a7565b5090565b90565b60006115f08235611b91565b905092915050565b60006116048235611bb1565b905092915050565b60008083601f840112151561162057600080fd5b8235905067ffffffffffffffff81111561163957600080fd5b60208301915083600182028301111561165157600080fd5b9250929050565b60006116648235611bbd565b905092915050565b60006020828403121561167e57600080fd5b600061168c848285016115e4565b91505092915050565b60008060008060008060008060c0898b0312156116b157600080fd5b60006116bf8b828c016115e4565b98505060206116d08b828c016115e4565b97505060406116e18b828c016115f8565b96505060606116f28b828c016115e4565b955050608089013567ffffffffffffffff81111561170f57600080fd5b61171b8b828c0161160c565b945094505060a089013567ffffffffffffffff81111561173a57600080fd5b6117468b828c0161160c565b92509250509295985092959890939650565b60006020828403121561176a57600080fd5b600061177884828501611658565b91505092915050565b6000806040838503121561179457600080fd5b60006117a285828601611658565b92505060206117b3858286016115e4565b9150509250929050565b600080604083850312156117d057600080fd5b60006117de85828601611658565b92505060206117ef858286016115f8565b9150509250929050565b60008060006040848603121561180e57600080fd5b600061181c86828701611658565b935050602084013567ffffffffffffffff81111561183957600080fd5b6118458682870161160c565b92509250509250925092565b6000806040838503121561186457600080fd5b600061187285828601611658565b925050602061188385828601611658565b9150509250929050565b61189681611b5b565b82525050565b60006118a782611b38565b8084526020840193506118b983611b2b565b60005b828110156118eb576118cf86835161188d565b6118d882611b4e565b91506020860195506001810190506118bc565b50849250505092915050565b61190081611b7b565b82525050565b600061191182611b43565b808452611925816020860160208601611bc7565b61192e81611bfa565b602085010191505092915050565b6000601882527f307830206173206f776e6572206e6f7420616c6c6f77656400000000000000006020830152604082019050919050565b6000601782527f6d73672e73656e646572206973206e6f74206f776e65720000000000000000006020830152604082019050919050565b6000610120830160008301516119c36000860182611a84565b5060208301516119d6602086018261188d565b5060408301516119e9604086018261188d565b5060608301516119fc6060860182611a84565b506080830151611a0f60808601826118f7565b5060a083015184820360a0860152611a278282611906565b91505060c083015184820360c0860152611a41828261189c565b91505060e083015184820360e0860152611a5b8282611906565b915050610100830151848203610100860152611a778282611906565b9150508091505092915050565b611a8d81611b87565b82525050565b6000602082019050611aa8600083018461188d565b92915050565b60006020820190508181036000830152611ac78161193c565b9050919050565b60006020820190508181036000830152611ae781611973565b9050919050565b60006020820190508181036000830152611b0881846119aa565b905092915050565b6000602082019050611b256000830184611a84565b92915050565b6000602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b60005b83811015611be5578082015181840152602081019050611bca565b83811115611bf4576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a72305820e1dd72e36f16b9ef41efaaea9952c0694ce7e5047db6eb48fb2f6a73e01533fd6c6578706572696d656e74616cf50037","contractName":"AssetConsumingRegistryDB","deployedBytecode":"6080604052600436106100c5576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630ff85b94146100ca57806357c3bc60146100f35780637c7959dc1461011c5780637fd392471461014557806389094ee61461016e5780638da5cb5b14610197578063a6f9dae1146101c2578063ae51439c146101eb578063aef9509814610216578063c27913061461023f578063e28cb19214610268578063e60a955d146102a5578063eac8f5b8146102ce575b600080fd5b3480156100d657600080fd5b506100f160048036036100ec9190810190611781565b61030b565b005b3480156100ff57600080fd5b5061011a60048036036101159190810190611851565b6103ff565b005b34801561012857600080fd5b50610143600480360361013e91908101906117f9565b6104b9565b005b34801561015157600080fd5b5061016c60048036036101679190810190611781565b61057f565b005b34801561017a57600080fd5b50610195600480360361019091908101906117f9565b610673565b005b3480156101a357600080fd5b506101ac610739565b6040516101b99190611a93565b60405180910390f35b3480156101ce57600080fd5b506101e960048036036101e4919081019061166c565b61075e565b005b3480156101f757600080fd5b506102006108db565b60405161020d9190611b10565b60405180910390f35b34801561022257600080fd5b5061023d600480360361023891908101906117f9565b610979565b005b34801561024b57600080fd5b5061026660048036036102619190810190611851565b610a3f565b005b34801561027457600080fd5b5061028f600480360361028a9190810190611695565b610af9565b60405161029c9190611b10565b60405180910390f35b3480156102b157600080fd5b506102cc60048036036102c791908101906117bd565b610e91565b005b3480156102da57600080fd5b506102f560048036036102f09190810190611758565b610f5e565b6040516103029190611aee565b60405180910390f35b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561039c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161039390611ace565b60405180910390fd5b806001838154811015156103ac57fe5b906000526020600020906009020160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610490576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048790611ace565b60405180910390fd5b806001838154811015156104a057fe5b9060005260206000209060090201600301819055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561054a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054190611ace565b60405180910390fd5b818160018581548110151561055b57fe5b90600052602060002090600902016005019190610579929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610610576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161060790611ace565b60405180910390fd5b8060018381548110151561062057fe5b906000526020600020906009020160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610704576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fb90611ace565b60405180910390fd5b818160018581548110151561071557fe5b90600052602060002090600902016007019190610733929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156107ef576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107e690611ace565b60405180910390fd5b600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614151515610861576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161085890611aae565b60405180910390fd5b806000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055507f95fd54179c11867fb083dd94347ea50f144dd4cfd7612b7bca169f162824af16816040516108d09190611a93565b60405180910390a150565b60008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561096e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161096590611ace565b60405180910390fd5b600180549050905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610a0a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a0190611ace565b60405180910390fd5b8181600185815481101515610a1b57fe5b90600052602060002090600902016008019190610a39929190611377565b50505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ad0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ac790611ace565b60405180910390fd5b80600183815481101515610ae057fe5b9060005260206000209060090201600001819055505050565b60006060610b056113f7565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610b96576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b8d90611ace565b60405180910390fd5b6001604051908082528060200260200182016040528015610bc65781602001602082028038833980820191505090505b50915087826000815181101515610bd957fe5b9060200190602002019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505061012060405190810160405280600081526020018c73ffffffffffffffffffffffffffffffffffffffff1681526020018b73ffffffffffffffffffffffffffffffffffffffff168152602001600081526020018a151581526020016020604051908101604052806000815250815260200183815260200188888080601f016020809104026020016040519081016040528093929190818152602001838380828437820191505050505050815260200186868080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050508152509050600181908060018154018082558091505090600182039060005260206000209060090201600090919290919091506000820151816000015560208201518160010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408201518160020160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506060820151816003015560808201518160040160006101000a81548160ff02191690831515021790555060a0820151816005019080519060200190610e08929190611472565b5060c0820151816006019080519060200190610e259291906114f2565b5060e0820151816007019080519060200190610e42929190611472565b50610100820151816008019080519060200190610e60929190611472565b50505050600060018054905011610e78576000610e81565b60018080549050035b9250505098975050505050505050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610f22576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f1990611ace565b60405180910390fd5b80600183815481101515610f3257fe5b906000526020600020906009020160040160006101000a81548160ff0219169083151502179055505050565b610f666113f7565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610ff7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fee90611ace565b60405180910390fd5b60018281548110151561100657fe5b90600052602060002090600902016101206040519081016040529081600082015481526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001600382015481526020016004820160009054906101000a900460ff16151515158152602001600582018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156111955780601f1061116a57610100808354040283529160200191611195565b820191906000526020600020905b81548152906001019060200180831161117857829003601f168201915b505050505081526020016006820180548060200260200160405190810160405280929190818152602001828054801561122357602002820191906000526020600020905b8160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190600101908083116111d9575b50505050508152602001600782018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112c55780601f1061129a576101008083540402835291602001916112c5565b820191906000526020600020905b8154815290600101906020018083116112a857829003601f168201915b50505050508152602001600882018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113675780601f1061133c57610100808354040283529160200191611367565b820191906000526020600020905b81548152906001019060200180831161134a57829003601f168201915b5050505050815250509050919050565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106113b857803560ff19168380011785556113e6565b828001600101855582156113e6579182015b828111156113e55782358255916020019190600101906113ca565b5b5090506113f3919061157c565b5090565b6101206040519081016040528060008152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600015158152602001606081526020016060815260200160608152602001606081525090565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106114b357805160ff19168380011785556114e1565b828001600101855582156114e1579182015b828111156114e05782518255916020019190600101906114c5565b5b5090506114ee919061157c565b5090565b82805482825590600052602060002090810192821561156b579160200282015b8281111561156a5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190611512565b5b50905061157891906115a1565b5090565b61159e91905b8082111561159a576000816000905550600101611582565b5090565b90565b6115e191905b808211156115dd57600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff0219169055506001016115a7565b5090565b90565b60006115f08235611b91565b905092915050565b60006116048235611bb1565b905092915050565b60008083601f840112151561162057600080fd5b8235905067ffffffffffffffff81111561163957600080fd5b60208301915083600182028301111561165157600080fd5b9250929050565b60006116648235611bbd565b905092915050565b60006020828403121561167e57600080fd5b600061168c848285016115e4565b91505092915050565b60008060008060008060008060c0898b0312156116b157600080fd5b60006116bf8b828c016115e4565b98505060206116d08b828c016115e4565b97505060406116e18b828c016115f8565b96505060606116f28b828c016115e4565b955050608089013567ffffffffffffffff81111561170f57600080fd5b61171b8b828c0161160c565b945094505060a089013567ffffffffffffffff81111561173a57600080fd5b6117468b828c0161160c565b92509250509295985092959890939650565b60006020828403121561176a57600080fd5b600061177884828501611658565b91505092915050565b6000806040838503121561179457600080fd5b60006117a285828601611658565b92505060206117b3858286016115e4565b9150509250929050565b600080604083850312156117d057600080fd5b60006117de85828601611658565b92505060206117ef858286016115f8565b9150509250929050565b60008060006040848603121561180e57600080fd5b600061181c86828701611658565b935050602084013567ffffffffffffffff81111561183957600080fd5b6118458682870161160c565b92509250509250925092565b6000806040838503121561186457600080fd5b600061187285828601611658565b925050602061188385828601611658565b9150509250929050565b61189681611b5b565b82525050565b60006118a782611b38565b8084526020840193506118b983611b2b565b60005b828110156118eb576118cf86835161188d565b6118d882611b4e565b91506020860195506001810190506118bc565b50849250505092915050565b61190081611b7b565b82525050565b600061191182611b43565b808452611925816020860160208601611bc7565b61192e81611bfa565b602085010191505092915050565b6000601882527f307830206173206f776e6572206e6f7420616c6c6f77656400000000000000006020830152604082019050919050565b6000601782527f6d73672e73656e646572206973206e6f74206f776e65720000000000000000006020830152604082019050919050565b6000610120830160008301516119c36000860182611a84565b5060208301516119d6602086018261188d565b5060408301516119e9604086018261188d565b5060608301516119fc6060860182611a84565b506080830151611a0f60808601826118f7565b5060a083015184820360a0860152611a278282611906565b91505060c083015184820360c0860152611a41828261189c565b91505060e083015184820360e0860152611a5b8282611906565b915050610100830151848203610100860152611a778282611906565b9150508091505092915050565b611a8d81611b87565b82525050565b6000602082019050611aa8600083018461188d565b92915050565b60006020820190508181036000830152611ac78161193c565b9050919050565b60006020820190508181036000830152611ae781611973565b9050919050565b60006020820190508181036000830152611b0881846119aa565b905092915050565b6000602082019050611b256000830184611a84565b92915050565b6000602082019050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60008115159050919050565b6000819050919050565b60005b83811015611be5578082015181840152602081019050611bca565b83811115611bf4576000848401525b50505050565b6000601f19601f83011690509190505600a265627a7a72305820e1dd72e36f16b9ef41efaaea9952c0694ce7e5047db6eb48fb2f6a73e01533fd6c6578706572696d656e74616cf50037","source":"// Copyright 2018 Energy Web Foundation\n//\n// This file is part of the Origin Application brought to you by the Energy Web Foundation,\n// a global non-profit organization focused on accelerating blockchain technology across the energy sector, \n// incorporated in Zug, Switzerland.\n//\n// The Origin Application is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n// This is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY and without an implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details, at <http://www.gnu.org/licenses/>.\n//\n// @authors: slock.it GmbH, Martin Kuechler, martin.kuechler@slock.it\n\npragma solidity ^0.4.24;\npragma experimental ABIEncoderV2;\n\nimport \"ew-utils-general-contracts/Msc/Owned.sol\";\nimport \"../../contracts/Interfaces/AssetDbInterface.sol\";\n\n/// @title The Database contract for the Asset Registration\n/// @notice This contract only provides getter and setter methods\ncontract AssetConsumingRegistryDB is Owned, AssetDbInterface {\n\n    struct Asset {\n        uint certificatesUsedForWh;\n        address smartMeter;\n        address owner;\n        uint lastSmartMeterReadWh;\n        bool active;\n        string lastSmartMeterReadFileHash;\n        address[] matcher;\n        string propertiesDocumentHash;\n        string url;\n    }\n\n    /// @notice An array containing all registerd assets\n    Asset[] private assets;\n\n    /// @notice Constructor\n    /// @param _owner The owner of the contract\n    constructor(address _owner) public Owned(_owner) {} \n\n    /// @notice function to create a new empty asset\n    /// @param _smartMeter smartmeter-address\n    /// @param _owner owner-address\n    /// @param _active flag if the asset is currently active\n    /// @param _matcher matcher-address\n    /// @param _propertiesDocumentHash document-hash with all the properties of the asset\n    /// @param _url url-address of the asset\n    /// @return returns the array-position and thus the index / identifier of this new asset\n    function createAsset(  \n        address _smartMeter,\n        address _owner,\n        bool _active,\n        address _matcher,\n        string _propertiesDocumentHash,\n        string _url\n    ) \n        external\n        onlyOwner\n        returns (uint _assetId)\n    {\n\n        address[] memory matcherarray = new address[](1);\n        matcherarray[0] = _matcher;\n        Asset memory a = Asset({\n            certificatesUsedForWh:0,\n            smartMeter: _smartMeter,\n            owner: _owner,\n            lastSmartMeterReadWh:0,\n            active: _active,\n            lastSmartMeterReadFileHash:\"\",\n            matcher: matcherarray,\n            propertiesDocumentHash: _propertiesDocumentHash,\n            url: _url\n        });\n\n        assets.push(a);\n        _assetId = assets.length>0?assets.length-1:0;        \n\n    }\n \n    /// @notice Sets if an entry in the asset registry is active\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _active true if active\n    function setActive(uint _assetId, bool _active) \n        onlyOwner\n        external\n    {\n        assets[_assetId].active = _active;\n    }\n\n    /// @notice Sets amount of Wh used to issue certificates belonging to an entry in the asset registry\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _certificatesUsedForWh The amount of Wh used to issue certificates\n    function setCertificatesUsedForWh(uint _assetId, uint _certificatesUsedForWh) \n        onlyOwner\n        external\n    {\n        assets[_assetId].certificatesUsedForWh = _certificatesUsedForWh;\n    }\n\n    /// @notice Sets last meter read file hash\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _lastSmartMeterReadFileHash Last meter read file hash\n    function setLastSmartMeterReadFileHash(uint _assetId, string _lastSmartMeterReadFileHash)\n        onlyOwner\n        external\n    {\n        assets[_assetId].lastSmartMeterReadFileHash = _lastSmartMeterReadFileHash;\n    }\n\n    /// @notice Sets the last smart meter read in Wh of an entry in the asset registry\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _lastSmartMeterReadWh The smart meter read in Wh\n    function setLastSmartMeterReadWh(uint _assetId, uint _lastSmartMeterReadWh) \n        onlyOwner\n        external\n    {\n        assets[_assetId].lastSmartMeterReadWh = _lastSmartMeterReadWh;\n    }\n\n    /// @notice Sets the owner of an entry in the asset registry\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _owner The new owner\n    function setOwner(uint _assetId, address _owner) \n        onlyOwner\n        external\n    {\n        assets[_assetId].owner = _owner;\n    }\n\n    /// @notice Sets a new document-hash with the properties of an asset\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _propDocumentHash new document-hash\n    function setPropertiesDocumentHash(uint _assetId, string _propDocumentHash)\n        onlyOwner\n        external\n    {\n        assets[_assetId].propertiesDocumentHash = _propDocumentHash;\n    }\n\n    /// @notice Sets the smart meter address belonging to an entry in the asset registry\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @param _smartMeter The new smart meter address\n    function setSmartMeter(uint _assetId, address _smartMeter) \n        onlyOwner\n        external\n    {\n        assets[_assetId].smartMeter = _smartMeter;\n    }\n\n    /// @notice Sets a new url of an asset\n    /// @param _assetId the id belonging to an entry in the asset registry\n    /// @param _url the new url\n    function setUrl(uint _assetId, string _url)\n        onlyOwner\n        external\n    {\n        assets[_assetId].url = _url;\n    }\n\n    /// @notice Gets the general information of an asset\n    /// @param _assetId The id belonging to an entry in the asset registry\n    /// @return general information of an asset\n    function getAsset(uint _assetId) \n        onlyOwner\n        external\n        view\n        returns(Asset)\n    {\n        return assets[_assetId];\n    }\n\n    /// @notice function to get the amount of assets\n    /// @return amount of assets\n    function getAssetListLength()\n        external\n        view\n        onlyOwner \n        returns (uint)\n    {\n        return assets.length;\n    }\n\n    \n}","networks":"{}"}